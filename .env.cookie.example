# Cookie-Based Authentication Environment Variables

# ====================
# AUTHENTICATION & SECURITY
# ====================

# JWT Secrets (required in production)
JWT_SECRET=your-jwt-secret-min-32-chars
JWT_REFRESH_SECRET=your-refresh-secret-min-32-chars

# CSRF Protection
CSRF_SECRET=your-csrf-secret-min-32-chars

# Cookie Configuration
COOKIE_DOMAIN=.yourdomain.com  # Set for production (leave empty for development)
COOKIE_SECURE=true              # Set to true in production (HTTPS only)
COOKIE_SAMESITE=strict          # strict, lax, or none

# Authentication Migration Settings
SUPPORT_LEGACY_AUTH=true        # Support both cookie and token auth during migration
FORCE_COOKIE_AUTH=false         # Force all clients to use cookie auth

# Session Configuration
SESSION_TIMEOUT=3600            # Access token expiry in seconds (1 hour)
REFRESH_TOKEN_EXPIRY=604800     # Refresh token expiry in seconds (7 days)

# ====================
# REDIS CONFIGURATION
# ====================

REDIS_URL=redis://:redis123@redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_SESSION_PREFIX=session:
REDIS_CSRF_PREFIX=csrf:

# ====================
# DATABASE
# ====================

DATABASE_URL=postgresql://postgres:reporting123@postgres:5432/reporting
DB_HOST=postgres
DB_PORT=5432
DB_NAME=reporting
DB_USER=postgres
DB_PASSWORD=reporting123

# ====================
# APPLICATION
# ====================

NODE_ENV=development
PORT=5000
LOG_LEVEL=info

# ====================
# ACTIVE DIRECTORY
# ====================

AD_SERVER=your-dc.domain.local
AD_DOMAIN=DOMAIN
AD_BASE_DN=DC=domain,DC=local
AD_USERNAME=service-account@domain.local
AD_PASSWORD=service-account-password

# ====================
# AZURE AD / OFFICE 365
# ====================

AZURE_TENANT_ID=your-tenant-id
AZURE_CLIENT_ID=your-app-id
AZURE_CLIENT_SECRET=your-app-secret

# ====================
# FRONTEND CONFIGURATION
# ====================

# Add to frontend .env
VITE_USE_COOKIE_AUTH=true
VITE_API_WITH_CREDENTIALS=true